# Server Configuration
PORT=5000
NODE_ENV=development

# Database Configuration (PostgreSQL)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=auth_service
DB_USER=postgres
DB_PASSWORD=your_secure_password_here
DB_POOL_MAX=20
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=2000

# Prisma Database URL (constructed from above values)
DATABASE_URL="postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}?schema=public"

# Redis Configuration (REQUIRED)
# Used for OAuth state/PKCE storage and rate limiting
REDIS_URL=redis://localhost:6379
# Set to "true" for AWS ElastiCache with in-transit encryption
# Alternatively, use rediss:// (double 's') URL scheme in REDIS_URL
REDIS_TLS=false

# Bcrypt Configuration
# Recommended: 12 for production (balance between security and performance)
BCRYPT_SALT_ROUNDS=12

# Session Configuration
SESSION_COOKIE_NAME=session_id
SESSION_MAX_AGE_DAYS=30
# Session cache TTL in seconds (balance between performance and revocation lag)
SESSION_CACHE_TTL_SECONDS=300
# Session cleanup interval in milliseconds (default: 1 hour)
SESSION_CLEANUP_INTERVAL_MS=3600000
# How long to keep revoked sessions for audit (days)
SESSION_REVOKED_RETENTION_DAYS=7

# Cookie Configuration
# Set COOKIE_SAME_SITE=strict and secure=true in production with HTTPS
COOKIE_SAME_SITE=lax
COOKIE_DOMAIN=

# CORS Configuration
CORS_ORIGIN=http://localhost:3001

# Frontend URL (for OAuth redirects)
FRONTEND_URL=http://localhost:3001

# Google OAuth 2.0
# Get credentials from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=http://localhost:3000/auth/google/callback

# AWS Configuration
AWS_ACCESS_KEY=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_REGION=us-east-2

# AWS SES Email Configuration
SES_FROM_EMAIL=notifications@traderlion.com
SES_FROM_NAME=TraderLion

# Password Reset Configuration
PASSWORD_RESET_TOKEN_TTL_MINUTES=60
